== README

The blog_force app features functionality typically found in most blogging solutions. It allows users to create articles, post comments, while administrators possess privileges to create, update and delete articles. Administrators can also give admin privileges to other users. 

The further sections will guide you through deploying the app and setting up the blog:

== 1. Deployment

Clone the repository in a folder of your choice by running git clone command:

<tt> git clone git@github.com:Khomyachok5/blog.git </tt>

cd into directory with the app. Run pending migrations and seed mock data by running the following commands in the shell:


<tt>bundle</tt>

<tt>rake db:create db:migrate db:seed</tt>

The application makes use of Figaro gem. It allows the app to securely store configuration data and settings. Blog app stores a salt env (used for encryption internally) in config/application.yml file created by Figaro gem. It is a security requirement that this file be omitted from source control. There are just two quick configuration steps that need to be completed to create a new salt for your environment:


<tt>bundle exec figaro install</tt>


Open the config/application.yml file and create a new salt of your choice in a key - value format. The key name needs to be "SALT":

<tt>SALT: "a_value_of_your choice"</tt>

You can generate random 64 bytes:

<tt>SecureRandom.random_bytes(64)</tt>


and use the resulting value for salt, as in the example below:

<tt> SALT: "\xE9\xF2q\xD3\x89\xE4N4\xC5[5\x0E0\xD1\x98\x14\xE7\xC4\x01\f\xE5\xCD\x0F\xEC?\xED1N\xFE;\xC4\xFF\xD8\xB8Z\x05^\x8E\xBE\x84+D\x10\xF4\xDC\x7FJ\xDA\x86\xAB\xA5\x96T[*B\xA8d\xEE\x04\\\xA9u\xF8" </tt>

It is possible that you may need to restart spring for the new env to become available to the app:

<tt>spring stop </tt>

<tt>spring start </tt>

Start a webserver and navigate in a web browser to localhost:3000. You should be taken to the main page of the blog pre-populated with mock data. 

To fully evaluate blogging experience with this blog app, you will need to intercept messages sent by the application. This is easy to do with Mailcatcher gem, however it is not advisable to add it to the Gemfile. 

Please, install the gem manually by running:


<tt>gem install mailcatcher</tt>

and then

<tt>mailcatcher</tt>

command in the shell. The app also comes with a few RSpec tests that can be started via shell to make sure the app is running fine.

== 2. Application overview

An unauthorized user can only view the articles on the blog, but can't comment them. To get more, a user needs to create a new account on the blog. An authorized user can comment the articles and subscribe to the blog. Only administrators of the blog (but not regular users) can create new articles, as well as edit and delete existing articles. 

An unauthorized user can sign up for the blog using "Create new account" button in the navigation bar at the top of the blog. After that the user will be taken to the registration page. The registration is open and doesn't require any e-mail confirmation and verification. 

The blog comes with a wealth of user accounts generated by the db:seed command, and there's a dedicated account for evalution and overview of the blog: 

<tt>user@teamblog.com</tt>

<tt>hard_to_guess_pass</tt>

You can either use this account or create a new one. An authorised user can post comments to any article. Comments are displayed in a tree-like view and allow subcomments. 

A user can also subscribe to the blog to be alerted of the new articles as they become available. To do so, a user needs to click "~Sign me up!~" button in the right-hand sidebar. Clicking the button will cause an e-mail message to be sent to user email address. The message will have a link to view the article and unsubscribe.

Administrators have a greater subset of features available to them, including posting new artcles, as well as editing and deleting articles. An administrator can designate other administrators or void other administrators of their superpowers via Admin Panel. 

To log into the website with admin privileges, please use this account:

<tt>admin@teamblog.com</tt>

<tt>hard_to_guess_pass</tt>

Both regular users and administrators can subscribe to the website and receive e-mail alerts each time a new article is posted. The e-mail contains a link to the article and another link to unsubscribe. 